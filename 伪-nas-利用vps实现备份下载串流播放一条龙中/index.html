<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>伪-NAS 利用VPS实现备份、下载、串流播放一条龙(中) - 我的全新 Hugo 网站</title><meta name="Description" content="这是我的全新 Hugo 网站"><meta property="og:title" content="伪-NAS 利用VPS实现备份、下载、串流播放一条龙(中)" />
<meta property="og:description" content="
本文主要讲述Directory Lister、Aria2、Nextcloud的配置问题
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hugo.lwnlh.com/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%AD/" /><meta property="og:image" content="https://hugo.lwnlh.com/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-12-08T11:49:00+00:00" />
<meta property="article:modified_time" content="2018-12-08T11:49:00+00:00" /><meta property="og:site_name" content="我的网站" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://hugo.lwnlh.com/logo.png"/>

<meta name="twitter:title" content="伪-NAS 利用VPS实现备份、下载、串流播放一条龙(中)"/>
<meta name="twitter:description" content="
本文主要讲述Directory Lister、Aria2、Nextcloud的配置问题
"/>
<meta name="application-name" content="我的网站">
<meta name="apple-mobile-web-app-title" content="我的网站"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://hugo.lwnlh.com/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%AD/" /><link rel="prev" href="https://hugo.lwnlh.com/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%8A/" /><link rel="next" href="https://hugo.lwnlh.com/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%8B-/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "伪-NAS 利用VPS实现备份、下载、串流播放一条龙(中)",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/hugo.lwnlh.com\/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%AD\/"
        },"genre": "posts","keywords": "Nextcloud, Aria2, Directory Lister","wordcount":  3759 ,
        "url": "https:\/\/hugo.lwnlh.com\/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%AD\/","datePublished": "2018-12-08T11:49:00+00:00","dateModified": "2018-12-08T11:49:00+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "xxxx"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="我的全新 Hugo 网站"></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="我的全新 Hugo 网站"></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">伪-NAS 利用VPS实现备份、下载、串流播放一条龙(中)</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>xxxx</a></span>&nbsp;<span class="post-category">included in <a href="/categories/%E5%B9%B2%E8%B4%A7/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>干货</a>&nbsp;<a href="/categories/%E6%8A%98%E8%85%BE/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>折腾</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2018-12-08">2018-12-08</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;3759 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;8 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="true">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents"></nav></div>
            </div><div class="content" id="content"><blockquote>
<p>本文主要讲述Directory Lister、Aria2、Nextcloud的配置问题</p>
</blockquote>
<p>#一、Directory Lister篇 来自逗比大佬
#不显示文件和目录
如果安装 lnmp一键包上传Directory Lister后，Directory Lister不显示文件和目录，那么可能是 PHP函数 <code>scandir </code>被禁用了，取消禁用即可。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sed -i &#39;s/,scandir//g&#39; /usr/local/php/etc/php.ini
</span></span><span class="line"><span class="cl"># 取消scandir函数禁用
</span></span><span class="line"><span class="cl">/etc/init.d/php-fpm restart
</span></span><span class="line"><span class="cl"># 重启 PHP生效
</span></span></code></pre></td></tr></table>
</div>
</div><p>##简介功能说明
使用这个功能，需要打开 <code>resources\themes\bootstrap\index.php</code> 文件，找到第五行的：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$md_path = explode(&#34;com&#34;, $md_path_all);
</span></span></code></pre></td></tr></table>
</div>
</div><p>把 <code>com</code> 改成你的域名后缀(比如 <code>xxx.cn</code> 就是改成 <code>cn</code> )，当初只是自用，现在一开源，我给忘了。</p>
<p>反正就是每个文件夹下面放一个 <code>README.html</code> 文件，这个文件里写着 简介说明内容即可。</p>
<p>为了避免中文乱码，把 <code>README.html</code> 文件用 <code>UTF-8 无BOM 编码 </code>保存！
##文件修改说明
文件修改说明修改网站中头部导航标题，去这个文件里搜索 <code>DOUBI Soft</code> 然后全部替换为自己要改的。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">\resources\DirectoryLister.php
</span></span></code></pre></td></tr></table>
</div>
</div><p>修改网站标签栏的标题，去这个文件里把开头 <code>&lt;title&gt; </code>标签中的<code> DOUBI Soft</code> 替换为自己要改的。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">\resources\themes\bootstrap\index.php
</span></span></code></pre></td></tr></table>
</div>
</div><p>修改网站顶部公告栏内容，去这个文件里搜索 <code>顶部公告栏</code> 或者找到第 72 行。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">\resources\themes\bootstrap\index.php
</span></span></code></pre></td></tr></table>
</div>
</div><p>网站头部公共文件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">\resources\themes\bootstrap\default_header.php
</span></span></code></pre></td></tr></table>
</div>
</div><p>网站底部公共文件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">\resources\themes\bootstrap\default_footer.php
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果想要插入流量统计代码，那只需要把代码写到 <code>default_header.php</code> 文件内即可。
#二、Aria2配置
这里贴上我的Aria2配置，文件路径<code>/root/.aria2.conf</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## &#39;#&#39;开头为注释内容, 选项都有相应的注释说明, 根据需要修改 ##
</span></span><span class="line"><span class="cl">## 被注释的选项填写的是默认值, 建议在需要修改时再取消注释  ##
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">## 文件保存相关 ##
</span></span><span class="line"><span class="cl"># 文件的保存路径(可使用绝对路径或相对路径), 默认: 当前启动位置
</span></span><span class="line"><span class="cl">dir=/data/wwwroot/dd.test.com/download
</span></span><span class="line"><span class="cl"># 启用磁盘缓存, 0为禁用缓存, 需1.16以上版本, 默认:16M
</span></span><span class="line"><span class="cl">#disk-cache=32M
</span></span><span class="line"><span class="cl"># 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc
</span></span><span class="line"><span class="cl"># 预分配所需时间: none &lt; falloc ? trunc &lt; prealloc
</span></span><span class="line"><span class="cl"># falloc和trunc则需要文件系统和内核支持
</span></span><span class="line"><span class="cl"># NTFS建议使用falloc, EXT3/4建议trunc, MAC 下需要注释此项
</span></span><span class="line"><span class="cl"># file-allocation=none
</span></span><span class="line"><span class="cl"># 断点续传
</span></span><span class="line"><span class="cl">continue=true
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">## 下载连接相关 ##
</span></span><span class="line"><span class="cl"># 最大同时下载任务数, 运行时可修改, 默认:5
</span></span><span class="line"><span class="cl">max-concurrent-downloads=25
</span></span><span class="line"><span class="cl"># 同一服务器连接数, 添加时可指定, 默认:1
</span></span><span class="line"><span class="cl">max-connection-per-server=5
</span></span><span class="line"><span class="cl"># 最小文件分片大小, 添加时可指定, 取值范围1M -1024M, 默认:20M
</span></span><span class="line"><span class="cl"># 假定size=10M, 文件为20MiB 则使用两个来源下载; 文件为15MiB 则使用一个来源下载
</span></span><span class="line"><span class="cl">min-split-size=10M
</span></span><span class="line"><span class="cl"># 单个任务最大线程数, 添加时可指定, 默认:5
</span></span><span class="line"><span class="cl">split=20
</span></span><span class="line"><span class="cl"># 整体下载速度限制, 运行时可修改, 默认:0
</span></span><span class="line"><span class="cl">#max-overall-download-limit=0
</span></span><span class="line"><span class="cl"># 单个任务下载速度限制, 默认:0
</span></span><span class="line"><span class="cl">#max-download-limit=0
</span></span><span class="line"><span class="cl"># 整体上传速度限制, 运行时可修改, 默认:0
</span></span><span class="line"><span class="cl">max-overall-upload-limit=1M
</span></span><span class="line"><span class="cl"># 单个任务上传速度限制, 默认:0
</span></span><span class="line"><span class="cl">#max-upload-limit=1000
</span></span><span class="line"><span class="cl"># 禁用IPv6, 默认:false
</span></span><span class="line"><span class="cl">disable-ipv6=false
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">## 进度保存相关 ##
</span></span><span class="line"><span class="cl"># 从会话文件中读取下载任务
</span></span><span class="line"><span class="cl">input-file=/root/.aria2/aria2.session
</span></span><span class="line"><span class="cl"># 在Aria2退出时保存`错误/未完成`的下载任务到会话文件
</span></span><span class="line"><span class="cl">save-session=/root/.aria2/aria2.session
</span></span><span class="line"><span class="cl"># 定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0
</span></span><span class="line"><span class="cl">save-session-interval=60
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">## RPC相关设置 ##
</span></span><span class="line"><span class="cl"># 启用RPC, 默认:false
</span></span><span class="line"><span class="cl">enable-rpc=true
</span></span><span class="line"><span class="cl"># 允许所有来源, 默认:false
</span></span><span class="line"><span class="cl">rpc-allow-origin-all=true
</span></span><span class="line"><span class="cl"># 允许非外部访问, 默认:false
</span></span><span class="line"><span class="cl">rpc-listen-all=true
</span></span><span class="line"><span class="cl"># 事件轮询方式, 取值:[epoll, kqueue, port, poll, select], 不同系统默认值不同
</span></span><span class="line"><span class="cl">#event-poll=select
</span></span><span class="line"><span class="cl"># RPC监听端口, 端口被占用时可以修改, 默认:6800
</span></span><span class="line"><span class="cl">rpc-listen-port=6800
</span></span><span class="line"><span class="cl"># 设置的RPC授权令牌, v1.18.4新增功能, 取代 --rpc-user 和 --rpc-passwd 选项
</span></span><span class="line"><span class="cl">rpc-secret=你自己设置一个密码
</span></span><span class="line"><span class="cl"># 设置的RPC访问用户名, 此选项新版已废弃, 建议改用 --rpc-secret 选项
</span></span><span class="line"><span class="cl">#rpc-user=&lt;USER&gt;
</span></span><span class="line"><span class="cl"># 设置的RPC访问密码, 此选项新版已废弃, 建议改用 --rpc-secret 选项
</span></span><span class="line"><span class="cl">#rpc-passwd=&lt;PASSWD&gt;
</span></span><span class="line"><span class="cl"># 是否启用 RPC 服务的 SSL/TLS 加密,
</span></span><span class="line"><span class="cl"># 启用加密后 RPC 服务需要使用 https 或者 wss 协议连接
</span></span><span class="line"><span class="cl">rpc-secure=true
</span></span><span class="line"><span class="cl"># 在 RPC 服务中启用 SSL/TLS 加密时的证书文件(.pem/.crt)
</span></span><span class="line"><span class="cl">rpc-certificate= /usr/local/nginx/conf/ssl/ar.test.com.crt
</span></span><span class="line"><span class="cl"># 在 RPC 服务中启用 SSL/TLS 加密时的私钥文件(.key)
</span></span><span class="line"><span class="cl">rpc-private-key= /usr/local/nginx/conf/ssl/ar.test.com.key
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">## BT/PT下载相关 ##
</span></span><span class="line"><span class="cl"># 当下载的是一个种子(以.torrent结尾)时, 自动开始BT任务, 默认:true
</span></span><span class="line"><span class="cl">follow-torrent=true
</span></span><span class="line"><span class="cl"># BT监听端口, 当端口被屏蔽时使用, 默认:6881-6999
</span></span><span class="line"><span class="cl">listen-port=51413
</span></span><span class="line"><span class="cl"># 单个种子最大连接数, 默认:55
</span></span><span class="line"><span class="cl">#bt-max-peers=55
</span></span><span class="line"><span class="cl"># 打开DHT功能, PT需要禁用, 默认:true
</span></span><span class="line"><span class="cl">enable-dht=true
</span></span><span class="line"><span class="cl"># 打开IPv6 DHT功能, PT需要禁用
</span></span><span class="line"><span class="cl">#enable-dht6=false
</span></span><span class="line"><span class="cl"># DHT网络监听端口, 默认:6881-6999
</span></span><span class="line"><span class="cl">#dht-listen-port=6881-6999
</span></span><span class="line"><span class="cl"># 本地节点查找, PT需要禁用, 默认:false
</span></span><span class="line"><span class="cl">#bt-enable-lpd=true
</span></span><span class="line"><span class="cl"># 种子交换, PT需要禁用, 默认:true
</span></span><span class="line"><span class="cl">enable-peer-exchange=true
</span></span><span class="line"><span class="cl"># 每个种子限速, 对少种的PT很有用, 默认:50K
</span></span><span class="line"><span class="cl">#bt-request-peer-speed-limit=50K
</span></span><span class="line"><span class="cl"># 客户端伪装, PT需要
</span></span><span class="line"><span class="cl">peer-id-prefix=-TR2770-
</span></span><span class="line"><span class="cl">user-agent=Transmission/2.77
</span></span><span class="line"><span class="cl"># 当种子的分享率达到这个数时, 自动停止做种, 0为一直做种, 默认:1.0
</span></span><span class="line"><span class="cl">seed-ratio=0.000001
</span></span><span class="line"><span class="cl"># 强制保存会话, 即使任务已经完成, 默认:false
</span></span><span class="line"><span class="cl"># 较新的版本开启后会在任务完成后依然保留.aria2文件
</span></span><span class="line"><span class="cl">#force-save=false
</span></span><span class="line"><span class="cl"># BT校验相关, 默认:true
</span></span><span class="line"><span class="cl">#bt-hash-check-seed=true
</span></span><span class="line"><span class="cl"># 继续之前的BT任务时, 无需再次校验, 默认:false
</span></span><span class="line"><span class="cl">bt-seed-unverified=true
</span></span><span class="line"><span class="cl"># 保存磁力链接元数据为种子文件(.torrent文件), 默认:false
</span></span><span class="line"><span class="cl">#bt-save-metadata=true
</span></span></code></pre></td></tr></table>
</div>
</div><p>#注意事项
##一、保存路径
保存路径最好放在<code>Directory Lister</code>目录下，这样方便直接访问
如果你放在其他目录，<code>Directory Lister</code>目录下放软链接可能会发生错误。
##进度保存
记得把进度保存相关设置前的注释取消掉，就像配置文件第38~44行
##RPC相关设置
密码在第58行修改
由于我们使用全站https，所以在配置文件第67、69行需要填写你的网站证书路径，按照我的上一篇文章建站的话，把<code>ar.test.com</code>替换成你的域名即可。
##定时更新bt-tracker
如果你使用逗比大佬的脚本并开启了定时更新bt-tracker，那么会有更新过后Aria2没有启动问题，所以解决方法就是添加一个定时任务：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">crontab -e
</span></span><span class="line"><span class="cl">在0 3 * * 1 /bin/bash /root/aria2.sh update-bt-tracker下添加
</span></span><span class="line"><span class="cl">2 3 * * 1 /bin/bash service aria2 start
</span></span></code></pre></td></tr></table>
</div>
</div><p>保存即可。
#三、Nextcloud排错</p>
<p>#1. PHP 被设置为移除内联块, 这将导致多个核心应用无法访问
问题：准备LNMP环境和上面一样，只是在LNMP 1.4和OneinStack安装时选择Nginx环境即可，其它的组件都一样有选择性地安装。如果安装了Zend OPcache，可能在安装时会提示错误：<code>“PHP 被设置为移除内联块, 这将导致多个核心应用无法访问。</code></p>
<p>解决方法：修改<code>php.ini</code>中Opcache的参数进行修改，如果是Oneinstack的话需要在<code>/usr/local/php/etc/php.d/02-opcache.ini</code> 中修改。找到此代码并改成：<code>opcache.save_comments=1</code> ，因为默认是0，改完重启php-fpm就行。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">nano /usr/local/php/etc/php.d/02-opcache.ini
</span></span><span class="line"><span class="cl">opcache.save_comments=1 #将0改成１
</span></span></code></pre></td></tr></table>
</div>
</div><p>##2. 出现错误：No input file specified.
一般来说，在添加虚拟主机那一步选择<code>rewrite</code>的时候选择<code>nextcloud</code>不会出现这个问题，如果还有问题按照以下步骤来解决
编写URL地址重写规则。出现错误：No input file specified.，主要是Nginx还需要自己写重写规则，你可以将以下规则复制粘贴到/usr/local/nginx/conf/vhost/你的网站.conf，具体规则如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">#(可选)添加如下header主要为了安全
</span></span><span class="line"><span class="cl">    add_header X-Content-Type-Options nosniff;
</span></span><span class="line"><span class="cl">    add_header X-XSS-Protection &#34;1; mode=block&#34;;
</span></span><span class="line"><span class="cl">    add_header X-Robots-Tag none;
</span></span><span class="line"><span class="cl">    add_header X-Download-Options noopen;
</span></span><span class="line"><span class="cl">    add_header X-Permitted-Cross-Domain-Policies none;
</span></span><span class="line"><span class="cl">    #(可选)为了支持user_webfinger app
</span></span><span class="line"><span class="cl">    rewrite ^/.well-known/host-meta /public.php?service=host-meta last;
</span></span><span class="line"><span class="cl">    rewrite ^/.well-known/host-meta.json /public.php?service=host-meta-json last;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    #日历和联系人，建议加上
</span></span><span class="line"><span class="cl">    location = /.well-known/carddav {
</span></span><span class="line"><span class="cl">    return 301 $scheme://$host/remote.php/dav;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    location = /.well-known/caldav {
</span></span><span class="line"><span class="cl">    return 301 $scheme://$host/remote.php/dav;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    #设置上传文件的最大大小
</span></span><span class="line"><span class="cl">    client_max_body_size 512M;
</span></span><span class="line"><span class="cl">    fastcgi_buffers 64 4K;
</span></span><span class="line"><span class="cl">    #将所有请求转发到index.php上
</span></span><span class="line"><span class="cl">    location / {
</span></span><span class="line"><span class="cl">    rewrite ^ /index.php$uri;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    #安全设置，禁止访问部分敏感内容
</span></span><span class="line"><span class="cl">    location ~ ^/(?:build|tests|config|lib|3rdparty|templates|data)/ {
</span></span><span class="line"><span class="cl">    deny all;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    location ~ ^/(?:\.|autotest|occ|issue|indie|db_|console) {
</span></span><span class="line"><span class="cl">    deny all;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    #默认有，替换原来的就行
</span></span><span class="line"><span class="cl">    location ~ ^/(?:index|remote|public|cron|core/ajax/update|status|ocs/v[12]|updater/.+|ocs-provider/.+)\.php(?:$|/) {
</span></span><span class="line"><span class="cl">    fastcgi_split_path_info ^(.+\.php)(/.*)$;
</span></span><span class="line"><span class="cl">    fastcgi_param PATH_INFO $fastcgi_path_info;
</span></span><span class="line"><span class="cl">    fastcgi_param modHeadersAvailable true;
</span></span><span class="line"><span class="cl">    fastcgi_param front_controller_active true;
</span></span><span class="line"><span class="cl">    fastcgi_pass unix:/dev/shm/php-cgi.sock; #这边我改过，参照原来的
</span></span><span class="line"><span class="cl">    fastcgi_intercept_errors on;
</span></span><span class="line"><span class="cl">    fastcgi_request_buffering off;
</span></span><span class="line"><span class="cl">    include fastcgi.conf;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    #安全设置，禁止访问部分敏感内容
</span></span><span class="line"><span class="cl">    location ~ ^/(?:updater|ocs-provider)(?:$|/) {
</span></span><span class="line"><span class="cl">    try_files $uri/ =404;
</span></span><span class="line"><span class="cl">    index index.php;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    location ~ \.(?:css|js|woff|svg|gif)$ {
</span></span><span class="line"><span class="cl">    try_files $uri /index.php$uri$is_args$args;
</span></span><span class="line"><span class="cl">    add_header Cache-Control &#34;public, max-age=15778463&#34;;
</span></span><span class="line"><span class="cl">    add_header X-Content-Type-Options nosniff;
</span></span><span class="line"><span class="cl">    add_header X-XSS-Protection &#34;1; mode=block&#34;;
</span></span><span class="line"><span class="cl">    add_header X-Robots-Tag none;
</span></span><span class="line"><span class="cl">    add_header X-Download-Options noopen;
</span></span><span class="line"><span class="cl">    add_header X-Permitted-Cross-Domain-Policies none;
</span></span><span class="line"><span class="cl">    access_log off;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    location ~ \.(?:png|html|ttf|ico|jpg|jpeg)$ {
</span></span><span class="line"><span class="cl">    try_files $uri /index.php$uri$is_args$args;
</span></span><span class="line"><span class="cl">    access_log off;
</span></span><span class="line"><span class="cl">    }
</span></span></code></pre></td></tr></table>
</div>
</div><p>#3. 模块‘fileinfo’缺失
fileinfo\Memcached\Redis等都可以通过OneinStack一键安装。
具体方法见上篇
#4. 没有安装 &ldquo;smbclient&rdquo;. 无法挂载 &ldquo;SMB / CIFS&rdquo;（测试未通过）
安装：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">apt-get install smbclient
</span></span><span class="line"><span class="cl">apt-get install php-smbclient
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>反正我安装过后问题没解决&hellip;..解决问题的朋友们可以在评论区留言</p>
</blockquote>
<!--more-->
<p>#5. 内存缓存未配置</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&#39;memcache.local&#39; =&gt; &#39;\OC\Memcache\Redis&#39;,
</span></span><span class="line"><span class="cl">&#39;memcache.locking&#39; =&gt; &#39;\OC\Memcache\Redis&#39;,
</span></span><span class="line"><span class="cl">&#39;redis&#39; =&gt; array(
</span></span><span class="line"><span class="cl">     &#39;host&#39; =&gt; &#39;localhost&#39;,
</span></span><span class="line"><span class="cl">     &#39;port&#39; =&gt; 6379,
</span></span><span class="line"><span class="cl">      ),
</span></span></code></pre></td></tr></table>
</div>
</div><p>#6. 一些文件没有通过完整性检查
参数解释如下，自行判读，</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">INVALID_HASH 　　#错误的文件，需要使用正确的替换
</span></span><span class="line"><span class="cl">EXTRA_FILE 　　　#多余的文件，需要删除
</span></span><span class="line"><span class="cl">EXCEPTION　　　　 #错误信息
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>在你解压完nextcloud，并把解压后文件移动到网站根目录的时候，记得检查下是否所有文件都移动过去了，因为解压文件里有两个隐藏文件&hellip;..</strong>
#7. 三种方式管理后台任务
三种方式管理后台任务，默认为<code>AJAX</code>,但是推荐用 <code>cron</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># www用户添加后台任务
</span></span><span class="line"><span class="cl">crontab -u www -e
</span></span><span class="line"><span class="cl"># 填写如下字段，注意目录地址
</span></span><span class="line"><span class="cl">*/15 * * * * php -f /www/wwwroot/cloud.test.com/ cron.php
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 检查是否添加成功
</span></span><span class="line"><span class="cl">crontab -u www -l
</span></span><span class="line"><span class="cl"># 输出如下说明成功
</span></span><span class="line"><span class="cl">*/15 * * * * php -f /www/wwwroot/cloud.test.com/ cron.php
</span></span></code></pre></td></tr></table>
</div>
</div><p>#Nextcloud出现“内部服务器错误”
这个问题的出现是由于文件夹权限设置的不到位。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">chown -R www:www  你的网站目录
</span></span></code></pre></td></tr></table>
</div>
</div><p>这一点很重要！！！</p>
<blockquote>
<p>参考：
<a href="https://github.com/ToyoDAdoubi/DirectoryLister" target="_blank" rel="noopener noreffer ">一个逗比魔改的Directory Lister~</a>
<a href="https://doub.io/shell-jc4/" target="_blank" rel="noopener noreffer ">『原创』BT/种子/磁力链接下载工具 —— Aria2 一键安装管理脚本</a>
<a href="https://wzfou.com/nextcloud-install/" target="_blank" rel="noopener noreffer ">手动安装NextCloud教程-免费开源的私有云存储网盘可播放图片音乐</a></p>
</blockquote></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2018-12-08</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%AD/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://hugo.lwnlh.com/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%AD/" data-title="伪-NAS 利用VPS实现备份、下载、串流播放一条龙(中)" data-via="xxxx" data-hashtags="Nextcloud,Aria2,Directory Lister"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://hugo.lwnlh.com/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%AD/" data-hashtag="Nextcloud"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://hugo.lwnlh.com/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%AD/" data-title="伪-NAS 利用VPS实现备份、下载、串流播放一条龙(中)"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://hugo.lwnlh.com/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%AD/" data-title="伪-NAS 利用VPS实现备份、下载、串流播放一条龙(中)"><i data-svg-src="/lib/simple-icons/icons/line.min.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://hugo.lwnlh.com/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%AD/" data-title="伪-NAS 利用VPS实现备份、下载、串流播放一条龙(中)"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/nextcloud/">Nextcloud</a>,&nbsp;<a href="/tags/aria2/">Aria2</a>,&nbsp;<a href="/tags/directory-lister/">Directory Lister</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%8A/" class="prev" rel="prev" title="伪-NAS 利用VPS实现备份、下载、串流播放一条龙(上)"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>伪-NAS 利用VPS实现备份、下载、串流播放一条龙(上)</a>
            <a href="/%E4%BC%AA-nas-%E5%88%A9%E7%94%A8vps%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD%E4%B8%8B%E8%BD%BD%E4%B8%B2%E6%B5%81%E6%92%AD%E6%94%BE%E4%B8%80%E6%9D%A1%E9%BE%99%E4%B8%8B-/" class="next" rel="next" title="伪-NAS 利用VPS实现备份、下载、串流播放一条龙(下) ">伪-NAS 利用VPS实现备份、下载、串流播放一条龙(下) <i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.102.0-DEV">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2019 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">xxxx</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/contrib/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/contrib/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/contrib/mhchem.min.js"></script><script type="text/javascript" src="/lib/cookieconsent/cookieconsent.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"cookieconsent":{"content":{"dismiss":"Got it!","link":"Learn more","message":"This website uses Cookies to improve your experience."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":50,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
